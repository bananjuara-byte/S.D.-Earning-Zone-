<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>AI Promo Generator</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body{
  font-family: Arial, sans-serif;
  background:#0f172a;
  color:#fff;
  margin:0;
}
.page{ display:none; padding:20px; }
.card{
  max-width:400px;
  margin:40px auto;
  background:#020617;
  padding:20px;
  border-radius:10px;
}
input, select, button{
  width:100%;
  padding:10px;
  margin-top:10px;
  border-radius:6px;
  border:none;
}
button{
  background:#22c55e;
  font-weight:bold;
  cursor:pointer;
}
button.secondary{ background:#334155; color:#fff; }
.topbar{
  background:#020617;
  padding:10px;
  display:flex;
  justify-content:space-between;
}
.output{
  background:#020617;
  padding:15px;
  border-radius:8px;
  margin-top:15px;
}
.copy{
  background:#38bdf8;
  margin-top:5px;
}
small{color:#94a3b8}
</style>
</head>

<body>

<div class="topbar">
  <b>AI System</b>
  <button class="secondary" onclick="logout()">Logout</button>
</div>

<!-- LOGIN -->
<div id="loginPage" class="page">
  <div class="card">
    <h2>Login</h2>
    <input id="loginUser" placeholder="Username">
    <input id="loginPass" type="password" placeholder="Password">
    <small><input type="checkbox" onclick="togglePass('loginPass')"> Show password</small>
    <button onclick="login()">Login</button>
    <button class="secondary" onclick="show(signupPage)">Create account</button>
  </div>
</div>

<!-- SIGNUP -->
<div id="signupPage" class="page">
  <div class="card">
    <h2>Sign Up</h2>
    <input id="suUser" placeholder="Username">
    <input id="suPass" type="password" placeholder="Password">
    <small><input type="checkbox" onclick="togglePass('suPass')"> Show password</small>
    <button onclick="signup()">Sign Up</button>
    <button class="secondary" onclick="show(loginPage)">Back to login</button>
  </div>
</div>

<!-- PROMO -->
<div id="promoPage" class="page">
  <div class="card">
    <h2>Generate Profile</h2>
    <select id="gender">
      <option value="">Select gender</option>
      <option>Male</option>
      <option>Female</option>
    </select>
    <button onclick="generate()">Generate</button>

    <div id="result"></div>
  </div>
</div>

<script>
const loginPage = document.getElementById("loginPage");
const signupPage = document.getElementById("signupPage");
const promoPage = document.getElementById("promoPage");
const resultBox = document.getElementById("result");

const used = JSON.parse(localStorage.getItem("usedProfiles")||"[]");

function show(p){
  document.querySelectorAll(".page").forEach(x=>x.style.display="none");
  p.style.display="block";
  history.pushState({}, "");
}

window.onpopstate = ()=>{};

window.onload = ()=>{
  if(localStorage.getItem("logged")==="1") show(promoPage);
  else show(loginPage);
};

function togglePass(id){
  const i=document.getElementById(id);
  i.type = i.type==="password" ? "text" : "password";
}

function signup(){
  const u=suUser.value, p=suPass.value;
  if(!u||!p) return alert("Fill all");
  localStorage.setItem("user",u);
  localStorage.setItem("pass",p);
  alert("Account created");
  show(loginPage);
}

function login(){
  if(loginUser.value===localStorage.getItem("user") &&
     loginPass.value===localStorage.getItem("pass")){
      localStorage.setItem("logged","1");
      show(promoPage);
  }else alert("Wrong password");
}

function logout(){
  localStorage.removeItem("logged");
  show(loginPage);
}

const data={
Male:[
 {u:"jack_91",p:"Jk@2391",b:"Focused on goals. Living strong."},
 {u:"ryan_fx",p:"Rx!772",b:"Learning every day."}
],
Female:[
 {u:"luna_x",p:"Ln@778",b:"Dreamer. Creator."},
 {u:"ava_joy",p:"Av#992",b:"Peaceful mind, bold heart."}
]
};

function generate(){
  const g=gender.value;
  if(!g) return alert("Select gender");

  const list=data[g].filter(x=>!used.includes(x.u));
  if(!list.length) return alert("No new profile left");

  const x=list[Math.floor(Math.random()*list.length)];
  used.push(x.u);
  localStorage.setItem("usedProfiles",JSON.stringify(used));

  resultBox.innerHTML=`
    <div class="output">
      <b>Username:</b> ${x.u}<br>
      <b>Password:</b> ${x.p}<br>
      <b>Bio:</b> ${x.b}
      <button class="copy" onclick="copyText('${x.u}')">Copy Username</button>
      <button class="copy" onclick="copyText('${x.p}')">Copy Password</button>
      <button class="copy" onclick="copyText('${x.b}')">Copy Bio</button>
    </div>`;
}

function copyText(t){
  navigator.clipboard.writeText(t);
  alert("Copied");
}
</script>

</body>
</html>
